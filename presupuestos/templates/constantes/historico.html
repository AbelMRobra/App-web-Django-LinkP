{% extends "users/inicio.html" %}

{% load static %}
{% load humanize %}

{% block content %}

<div class = "jumbotron" style="background-color: white; margin-bottom: 0px;">
    <div style="text-align: center;">
        <h2>Historico de indices</h2>
        <small>Evoluci√≥n de los indices mas significativos</small>  
    </div>

    <b><hr class = "my-4" style="width: 100%; border-color: black ;"></b>

    

    <div style="margin-top: 0.5rem; display: inline-block; width: 100%;">

        <div style= "text-align: center;">
            <small><strong>-- Analisis de precios --</strong></small>
        </div>

        <canvas id="myChart" width="400" height="150rem"></canvas>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script>
        var ctx = document.getElementById('myChart').getContext('2d');
        var chart = new Chart(ctx, {
            // The type of chart we want to create
            type: 'line',

            // The data for our dataset
            data: {
                labels: [
                    {% for i in fecha %}
                    '{{i}}',                   
                    {% endfor %}
                    ],
                datasets: [{
                    label: 'Dolar',
                    backgroundColor: 'rgb(9, 10, 9)',
                    borderColor: 'rgb(9, 10, 9)',
                    fill: false,
                    data: [
                    {% for i in datos_finales.0.1 %}
                    {{i|floatformat:0}},                   
                    {% endfor %}
                    ]
                },
                {
                    label: 'Precio minimo',
                    backgroundColor: 'rgb(199, 65, 49)',
                    borderColor: 'rgb(199, 65, 49)',
                    fill: false,
                    data: [
                    {% for i in datos.costo %}
                    {{i|floatformat:0}},                   
                    {% endfor %}
                    ]
                },
                {
                    label: 'Precio Sugerido',
                    backgroundColor: 'rgb(79, 199, 49)',
                    borderColor: 'rgb(79, 199, 49)',
                    fill: false,
                    data: [
                    {% for i in datos.sugerido %}
                    {{i|floatformat:0}},                   
                    {% endfor %}
                    ]
                },
                {
                    
                    label: 'Pricing',
                    backgroundColor: 'rgb(126, 128, 125)',
                    borderColor: 'rgb(126, 128, 125)',
                    fill: false,
                    data: [
                    {% for i in datos.pricing %}
                    {{i.precio_prom_contado|floatformat:0}},                   
                    {% endfor %}
                    ]
                }],

            },

            // Configuration options go here
            options: {}
        });
    </script>


    </div>

    


    <div style="text-align: center; margin-top: 2rem;">
        <p> <small>-- Link<strong>P</strong> --</small> </p>

     </div>

                    
</div>
 
    
{% endblock %}