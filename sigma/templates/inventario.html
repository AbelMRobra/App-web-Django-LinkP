{% extends "users/inicio.html" %}

{% load humanize %}

{% load static %}

{% block content %}

<div class = "jumbotron" style="background-color: white; margin-bottom: 0px;">

    <h3 style="text-align: center; color: #17B5B5 ;">Inventario de SIGMA</h3>
    <h6 style="text-align: center; color: #17B5B5 ;"> Equipos y herramientas - Valor actual ${{datos.total|floatformat:0|intcomma}}</h6>
     <b><hr class = "my-4" style="width: 100%; border-color: #17B5B5 ;"></b>


     {% if datos %}

     <h6>Resumen de articulos</h6>

     {% for i in datos.listado %}

     <div>

        <h8> <small>{{i.0}} - unidades: <b>{{i.1}}</b></small></h8>


     </div>

     

    {% endfor %}

     <b><hr class = "my-4" style="width: 100%; border-color: #17B5B5 ;"></b>

     <h6>Listado detallado</h6>


     <form method="POST" style="text-align: center;">

        {% csrf_token %}

        <div style="display: inline-block; margin-left: 1rem;">

            <label for="palabra"><h6>Buscar</h6></label>

        </div>
        
        <div style="display: inline-block; margin-left: 1rem; ">

            <input name="palabra" type="text" class="form-control form-control" placeholder="Buscar por palabra" list="art" style="width: 30rem;">

        </div>

        <div>
            <button class="btn btn-info" type="submit" style="margin-top: 1%;">Buscar</button>          
        </div>       

     </form>
 
     

    <table class = "table table-hover" style="text-align: center; margin-top: 1%;">
        <thead>

            <tr class = "table-info">
                <th scope = "row" style="vertical-align: middle;"> <font style = "vertical-align: heredar;"> NUMERO INVENTARIO </font></th>
                <th scope = "row" style="vertical-align: middle;"> <font style = "vertical-align: heredar;"> ARTICULO </font></th>
                <th scope = "row" style="vertical-align: middle;"> <font style = "vertical-align: heredar;"> VALOR </font></th>
                <th scope = "row" style="vertical-align: middle;"> <font style = "vertical-align: heredar;"> FECHA COMPRA </font></th>
                <th scope = "row" style="vertical-align: middle;"> <font style = "vertical-align: heredar;"> AMORT.</font></th>
                <th scope = "row" style="vertical-align: middle;"> <font style = "vertical-align: heredar;"> VALOR AMORT.</font></th>
                <th scope = "row" style="vertical-align: middle;"> <font style = "vertical-align: heredar;"> FECHA AMORT</font></th>
                              
            </tr>
        </thead>

        <tbody>

            

            {% for i in datos.datos|slice:"20" %}

            <tr class = "table-light">
                <td style="width: 10%;"><b>{{i.0.num_inv}}</b></td>
                <td style="width: 20%;"> <b><a href="#" style="color: black;">{{i.0.articulo.nombre}}</a></b>  </td>
                <td style="width: 10%;">${{i.0.articulo.valor|floatformat:0|intcomma}}</td>
                <td style="width: 10%;"> {{i.0.fecha_compra}}</td>
                <td style="width: 10%;"> {{i.0.amortizacion}} años</td>
                <td style="width: 10%;"> ${{i.1|floatformat:0|intcomma}}</td>
                <td style="width: 20%;">{{i.2}}</td>                         
            </tr>
        </tbody>

            {% endfor %}

        </table>

        <div>
            <small>El listado puede continuar, el maximo de filas visibles es de 20</small>
        </div>

        <div style="text-align: center;">
            <p> <small>-- Link<strong>P</strong> --</small> </p>
    
         </div>

     {% else %}
     
     <div style="text-align: center;">
        <h6> Este presupuesto aun no esta cargado! </h6>
        <small> Para mas información consulte a <b>AR</b></small>
    </div>

    <div style="text-align: center; margin-top: 2%; margin-bottom: 10%;">
        <img src="{% static 'img/comunicaciones.png' %}" style="width: 10%; height: 10%;">
    </div>

    <div style="text-align: center;">
        <p> <small>-- Link<strong>P</strong> --</small> </p>

     </div>
        
    {% endif %}
        

   
                    
</div>
 
    
{% endblock %}